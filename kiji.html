<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è¨˜äº‹ä¸€è¦§ | ã‚¹ãƒˆãƒ¬ã‚¹è¨ºæ–­ãƒ†ã‚¹ãƒˆ</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    :root { --brand:#4f46e5; --text:#374151; --bg:#f4f5f7; --card:#fff; --muted:#6b7280; }
    * { box-sizing: border-box; }
    body { font-family:'Noto Sans JP',sans-serif; background:var(--bg); margin:0; color:var(--text); }
    header { background:#fff; border-bottom:1px solid #e5e7eb; position:sticky; top:0; z-index:50; }
    .navbar { display:flex; justify-content:space-between; align-items:center; padding:16px 32px; max-width:1200px; margin:0 auto; }
    .logo { font-weight:700; font-size:20px; color:#4f46e5; text-decoration:none; }
    .nav-links { display:flex; gap:24px; align-items:center; }
    .nav-links a { text-decoration:none; color:#1f2937; font-size:14px; }
    .nav-links a.active { color:var(--brand); font-weight:700; }
    .nav-links a:hover { color:var(--brand); }
    .nav-actions { display:flex; gap:16px; align-items:center; }
    .nav-actions a { color:#1f2937; text-decoration:none; font-size:14px; }

    .wrap { max-width:1100px; margin:32px auto; padding:0 20px; }
    .hero { margin:16px 0 12px; }
    .hero h1 { margin:0 0 8px; font-size:28px; color:#111827; }
    .hero p { margin:0; color:var(--muted); }

    .toolbar { display:flex; gap:12px; margin:20px 0 12px; flex-wrap:wrap; }
    .search { flex:1 1 240px; background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:10px 12px; }
    .filter { background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:10px 12px; font-size:14px; }

    .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:18px; }
    .card { background:#fff; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.06); overflow:hidden; display:flex; flex-direction:column; }
    .thumb { height:140px; background:#eef2ff; display:flex; align-items:center; justify-content:center; }
    .thumb img { width:100%; height:100%; object-fit:cover; display:block; }
    .card-body { padding:16px; display:flex; flex-direction:column; gap:8px; }
    .meta { font-size:12px; color:var(--muted); }
    .title { font-size:16px; font-weight:700; color:#111827; margin:0; }
    .excerpt { font-size:14px; color:#4b5563; margin:0; }
    .more { margin-top:auto; padding:12px 16px; border-top:1px solid #f3f4f6; display:flex; justify-content:space-between; align-items:center; }
    .more a { text-decoration:none; color:var(--brand); font-size:14px; }

    footer { text-align:center; padding:30px; font-size:12px; color:#888; margin-top:24px; }
  </style>
</head>
<body>
  <header>
    <nav class="navbar">
      <a class="logo" href="index.html">16Personalities</a>
      <div class="nav-links">
        <a href="index.html#">ã‚¹ãƒˆãƒ¬ã‚¹è¨ºæ–­ãƒ†ã‚¹ãƒˆ</a>
        <a href="index.html#">ã‚¹ãƒˆãƒ¬ã‚¹ã‚¿ã‚¤ãƒ—</a>
        <a href="index.html#">ã‚­ãƒ£ãƒªã‚¢ã‚­ãƒƒãƒˆ</a>
        <a href="index.html#">ãƒ“ã‚¸ãƒã‚¹</a>
        <a class="active" href="kiji.html">è¨˜äº‹</a>
      </div>
      <div class="nav-actions" id="nav-actions">
        <a href="Login.html">ãƒ­ã‚°ã‚¤ãƒ³</a>
        <span>ğŸ‡¯ğŸ‡µ</span>
      </div>
    </nav>
  </header>

  <main class="wrap">
    <section class="hero">
      <h1>è¨˜äº‹ä¸€è¦§</h1>
      <p>ã‚¹ãƒˆãƒ¬ã‚¹ã‚¿ã‚¤ãƒ—ãƒ»ã‚­ãƒ£ãƒªã‚¢ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é–¢ã™ã‚‹èª­ã¿ç‰©ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚</p>
    </section>

    <div class="toolbar">
      <input id="q" class="search" type="search" placeholder="è¨˜äº‹ã‚’æ¤œç´¢â€¦" />
      <select id="cat" class="filter">
        <option value="">ã™ã¹ã¦ã®ã‚«ãƒ†ã‚´ãƒª</option>
        <option value="å¿ƒç†">å¿ƒç†</option>
        <option value="å¿ƒã®å¥åº·">å¿ƒã®å¥åº·</option>
        <option value="ã‚­ãƒ£ãƒªã‚¢">ã‚­ãƒ£ãƒªã‚¢</option>
        <option value="äººé–“é–¢ä¿‚">äººé–“é–¢ä¿‚</option>
      </select>
      <select id="sort" class="filter">
        <option value="new">æ–°ã—ã„é †</option>
        <option value="old">å¤ã„é †</option>
      </select>
    </div>

    <section class="grid" id="list">
      <!-- JSã§ã‚«ãƒ¼ãƒ‰ã‚’æç”» -->
    </section>
  </main>

  <footer>Â© 2025 ã‚¹ãƒˆãƒ¬ã‚¹è¨ºæ–­ by ã‚ãªãŸã®åå‰</footer>

  <!-- Firebaseï¼ˆãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹è¡¨ç¤ºç”¨ï¼‰ -->
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyADxv-uF7qfCohDrM7M6GHYIg8dgXRDFuw",
      authDomain: "new-stress.firebaseapp.com",
      projectId: "new-stress",
      storageBucket: "new-stress.appspot.com",
      messagingSenderId: "69761646862",
      appId: "1:69761646862:web:3eaec69feb21efc14c575f"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    const navActions = document.getElementById('nav-actions');
    function renderLoggedOut(){ 
      navActions.innerHTML=''; 
      const a=document.createElement('a'); a.href='Login.html'; a.textContent='ãƒ­ã‚°ã‚¤ãƒ³'; 
      const l=document.createElement('span'); l.textContent='ğŸ‡¯ğŸ‡µ'; l.style.marginLeft='12px'; 
      navActions.appendChild(a); navActions.appendChild(l); 
    }
    function renderLoggedIn(user){ 
      navActions.innerHTML=''; 
      const n=document.createElement('span'); n.textContent=(user.displayName||user.email)+' ã•ã‚“'; n.style.marginRight='12px'; 
      const lo=document.createElement('a'); lo.href='#'; lo.textContent='ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ'; 
      lo.addEventListener('click',async(e)=>{e.preventDefault(); await auth.signOut();}); 
      const l=document.createElement('span'); l.textContent='ğŸ‡¯ğŸ‡µ'; l.style.marginLeft='12px'; 
      navActions.appendChild(n); navActions.appendChild(lo); navActions.appendChild(l); 
    }
    auth.onAuthStateChanged(u=>u?renderLoggedIn(u):renderLoggedOut());
  </script>

  <script>
    // â–¼ è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ï¼ˆå„è¨˜äº‹ã®H1/ãƒªãƒ¼ãƒ‰ã«æ²¿ã£ãŸè¦‹å‡ºã—ãƒ»æŠœç²‹ï¼‰
    // ç”»åƒã¯ã™ã¹ã¦ã€Œsumbnailã€ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®ã—ã¦ãŠã
    const ARTICLES = [
      {
        id:1,
        title:'ã‚¹ãƒˆãƒ¬ã‚¹ã¯æ‚ªè€…ï¼Ÿã„ã„ãˆã€ã€Œä½¿ã„æ–¹ã€ã§ã™',
        cat:'å¿ƒç†',
        date:'2025-08-12',
        excerpt:'ã‚¹ãƒˆãƒ¬ã‚¹ã¯ã‚¼ãƒ­ã«ã™ã‚‹å¯¾è±¡ã§ã¯ãªãã€æ•´ãˆã¦æ´»ã‹ã™è³‡æºã€‚å½¹å‰²ãƒ»æ‚ªå½±éŸ¿ãƒ»ä¸Šæ‰‹ãªç®¡ç†ã‚’ã‚„ã•ã—ãè§£èª¬ã€‚',
        thumb:'sumbnail/stressguy.jpg'
      },
      {
        id:2,
        title:'ã‚¹ãƒˆãƒ¬ã‚¹ã¯æ‚ªè€…ã‹ï¼Ÿ',
        cat:'å¿ƒç†',
        date:'2025-08-18',
        excerpt:'å¼·ã™ãã‚‹ã‚¹ãƒˆãƒ¬ã‚¹ã¯ä¸èª¿ã®åŸå› ã€‚ã§ã‚‚é©åº¦ãªã‚¹ãƒˆãƒ¬ã‚¹ã¯é›†ä¸­ã‚„åˆ¤æ–­ã‚’åŠ©ã‘ã‚‹â€”é‡ã¨ç®¡ç†ãŒã‚«ã‚®ã€‚',
        thumb:'sumbnail/stressful.jpg'
      },
      {
        id:3,
        title:'ç¡çœ ã¨ã‚¹ãƒˆãƒ¬ã‚¹ï¼šå¯ã¤ããƒ»ä¸­é€”è¦šé†’ã‚’æ”¹å–„ã™ã‚‹å®Ÿè·µã‚¬ã‚¤ãƒ‰',
        cat:'å¿ƒã®å¥åº·',
        date:'2025-08-09',
        excerpt:'æ‚ªå¾ªç’°ã‚’æ–­ã¤ã‚³ãƒ„ã¯ã€Œå¤œã ã‘ã€ã˜ã‚ƒãªã„ã€‚24æ™‚é–“è¨­è¨ˆã§ã€å…‰ãƒ»ä½“æ¸©ãƒ»å‘¼å¸ãƒ»æ€è€ƒã®æ•´ãˆæ–¹ã‚’è§£èª¬ã€‚',
        thumb:'sumbnail/stressfulguy.jpg'
      },
      {
        id:4,
        title:'ã‚¹ãƒˆãƒ¬ã‚¹ãŒå¿ƒèº«ã«ä¸ãˆã‚‹å½±éŸ¿â€”â€”ã¾ãšã¯ã€Œæ°—ã¥ãã€ã“ã¨ã‹ã‚‰',
        cat:'å¿ƒã®å¥åº·',
        date:'2025-09-02',
        excerpt:'å¿ƒãƒ»ä½“ã«å‡ºã‚„ã™ã„ã‚µã‚¤ãƒ³ã¨ã€ä»Šæ—¥ã‹ã‚‰ã§ãã‚‹å’Œã‚‰ã’æ–¹ã€‚ã¾ãšã¯è‡ªåˆ†ã®åå¿œã«æ°—ã¥ãã“ã¨ãŒç¬¬ä¸€æ­©ã€‚',
        thumb:'sumbnail/whilework.jpg'
      },
      {
        id:5,
        title:'ã‚³ãƒ¼ãƒ”ãƒ³ã‚°ï¼ˆå¯¾å‡¦æ³•ï¼‰ã®å¤§åˆ‡ã•â€”â€”ã‚¹ãƒˆãƒ¬ã‚¹ã‚’ã€Œæ‰±ãˆã‚‹ã€åŠ›',
        cat:'ã‚­ãƒ£ãƒªã‚¢',
        date:'2025-09-02',
        excerpt:'å®šç¾©ã¨ä¸»è¦ã‚¹ã‚¿ã‚¤ãƒ«ã€ãªãœé‡è¦ã‹ã€ä»Šæ—¥ã‹ã‚‰ã®å®Ÿè·µã‚¹ãƒ†ãƒƒãƒ—ã¾ã§ã€‚å¯¾å‡¦ã®é¸æŠè‚¢ã‚’å¢—ã‚„ãã†ã€‚',
        thumb:'sumbnail/disapointed.jpg'
      },
      {
        id:6,
        title:'ã‚¹ãƒˆãƒ¬ãƒƒã‚µãƒ¼ã¨ã‚¹ãƒˆãƒ¬ã‚¹åå¿œâ€”â€”ã€ŒåŸå› ã€ã¨ã€Œåå¿œã€ã‚’åˆ†ã‘ã¦è€ƒãˆã‚‹',
        cat:'å¿ƒç†',
        date:'2025-09-02',
        excerpt:'è©¦é¨“ãƒ»äººé–“é–¢ä¿‚ãƒ»ç’°å¢ƒãªã©ã®ã€Œã‚¹ãƒˆãƒ¬ãƒƒã‚µãƒ¼ã€ã¨ã€å¿ƒèº«ã®ã€Œã‚¹ãƒˆãƒ¬ã‚¹åå¿œã€ã‚’åˆ‡ã‚Šåˆ†ã‘ã¦ç†è§£ã™ã‚‹ã€‚',
        thumb:'sumbnail/boundary.jpg'
      }
    ];

    const list = document.getElementById('list');
    const q = document.getElementById('q');
    const cat = document.getElementById('cat');
    const sort = document.getElementById('sort');

    function render(items){
      list.innerHTML = '';
      if (!items.length){ 
        list.innerHTML = '<p style="color:var(--muted)">è©²å½“ã™ã‚‹è¨˜äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>'; 
        return; 
      }
      items.forEach(a=>{
        const card = document.createElement('article');
        card.className = 'card';

        // ã‚µãƒ ãƒã‚¤ãƒ«
        const th = document.createElement('div'); 
        th.className='thumb';
        const img = document.createElement('img');
        img.loading = 'lazy';
        img.decoding = 'async';
        img.alt = a.title;
        img.width = 800;   // CLSå¯¾ç­–ã®ã‚µã‚¤ã‚ºæŒ‡å®š
        img.height = 420;  // CLSå¯¾ç­–ã®ã‚µã‚¤ã‚ºæŒ‡å®š
        img.src = a.thumb || 'sumbnail/stresspicture.jpg';
        img.onerror = () => { img.src = 'sumbnail/stresspicture.jpg'; };
        th.appendChild(img);

        const body = document.createElement('div'); 
        body.className='card-body';
        const meta = document.createElement('div'); 
        meta.className='meta'; 
        meta.textContent = `${a.cat} ãƒ» ${a.date}`;
        const h3 = document.createElement('h3'); 
        h3.className='title'; 
        h3.textContent = a.title;
        const ex = document.createElement('p'); 
        ex.className='excerpt'; 
        ex.textContent = a.excerpt;
        const more = document.createElement('div'); 
        more.className='more';

        // è¨˜äº‹IDã«å¿œã˜ã¦ kiji{id}.html ã¸é·ç§»ï¼ˆå·¦ä¸Šâ†’å³ä¸‹ã®ä¸¦ã³ã§ kiji1ã€œ6ï¼‰
        const link = document.createElement('a');
        link.href = (a.id != null) ? `kiji${a.id}.html` : 'stress.html';
        link.textContent='ç¶šãã‚’èª­ã‚€';

        more.appendChild(link);

        body.appendChild(meta); 
        body.appendChild(h3); 
        body.appendChild(ex);
        card.appendChild(th); 
        card.appendChild(body); 
        card.appendChild(more);
        list.appendChild(card);
      });
    }

    function apply(){
      const term = q.value.trim();
      const c = cat.value;
      const s = sort.value;
      let items = ARTICLES.slice();
      if (c) items = items.filter(x=>x.cat===c);
      if (term) items = items.filter(x=> (x.title+x.excerpt).toLowerCase().includes(term.toLowerCase()));
      items.sort((a,b)=> s==='new' ? (b.date.localeCompare(a.date)) : (a.date.localeCompare(b.date)) );
      render(items);
    }

    q.addEventListener('input', apply);
    cat.addEventListener('change', apply);
    sort.addEventListener('change', apply);
    apply();
  </script>
</body>
</html>
